<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/stylesheets/style.css">
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

</head>
<body>
    <div class="w-full min-h-screen bg-zinc-900 p-10 text-white flex flex-col ">
        <a class="text-2xl text-red-500 flex justify-end mr-20" href="/logout">logout</a>
        <div class=" mt-10 details">
            <h3 class="text-4xl"><span class="font-light">Hello, <%= user.name %> üëãüèº</span></h1>
            <h5 class="mt-2">You can create a post -</h5>
            <form class="flex flex-col justify-start" action="/post" method="POST">
                <textarea name="content" placeholder="What's on your mind" class=" block h-25 mb-2 resize-none w-1/3 mt-1 z bg-transparent border-2 border-zinc-800 rounded-md" ></textarea>
                <input class="w-40 mt-1 bg-blue-500 rounded-lg p-1" value="Create a post" type="submit">
            </form>

            <!-- change to foreach  -->

            <div class="posts mt-15">
                <h2 class="text-2xl">Your Posts-</h2>
                <div class="postcontainer mt-4 flex flex-row flex-wrap gap-2">
                    <!-- post is an array of posts and also you want the latest post ot come first so use reverse-->
                    <% user.posts.reverse().forEach(function(post){ %>
                    <div class="post w-1/4 p-4 rounded-md border-2 border-zinc-700 bg-zinc-800">
                        <h4 class="text-xl text-blue-400">@<%= user.username%></h4>
                        <p class="text-s mt-1 tracking-tighter"><%= post.content %></p>
                        <div class="mt-2 btns flex justify-end gap-4">
                            <a class="text-blue-500" href="">Like</a>
                            <a class="text-zinc-400" href=""> edit </a>
                        </div>
                    </div>
                    <% })%>
                
                </div>
        </div>
    </div>
</body>
</html>